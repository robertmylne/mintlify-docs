---
title: 'Filtering'
description: 'Filter API responses using query parameters to get exactly the data you need'
---

## Overview

The API supports filtering to help you retrieve specific subsets of data. Filters are applied using query parameters and can be combined to create complex queries.

## Basic Filtering

### Single Field Filters

Filter by exact matches using field names as query parameters:

```bash
GET /api/v1/users?status=active
GET /api/v1/orders?customer_id=123
```

### Multiple Field Filters

Combine multiple filters with `AND` logic:

```bash
GET /api/v1/users?status=active&role=admin&department=engineering
```

## Filter Operators

### Comparison Operators

Use operator suffixes to perform different types of comparisons:

| Operator | Description | Example |
|----------|-------------|---------|
| `field` | Exact match | `status=active` |
| `field_ne` | Not equal | `status_ne=inactive` |
| `field_gt` | Greater than | `age_gt=18` |
| `field_gte` | Greater than or equal | `created_at_gte=2024-01-01` |
| `field_lt` | Less than | `price_lt=100` |
| `field_lte` | Less than or equal | `updated_at_lte=2024-12-31` |

```bash
# Find users older than 18
GET /api/v1/users?age_gt=18

# Find orders created after a specific date
GET /api/v1/orders?created_at_gte=2024-01-01T00:00:00Z

# Find products under $50
GET /api/v1/products?price_lt=50.00
```

### String Operators

| Operator | Description | Example |
|----------|-------------|---------|
| `field_contains` | Contains substring | `name_contains=john` |
| `field_starts_with` | Starts with | `email_starts_with=admin` |
| `field_ends_with` | Ends with | `domain_ends_with=.com` |
| `field_icontains` | Case-insensitive contains | `name_icontains=JOHN` |

```bash
# Find users with "john" in their name
GET /api/v1/users?name_contains=john

# Find emails starting with "admin"
GET /api/v1/users?email_starts_with=admin
```

### Array Operators

| Operator | Description | Example |
|----------|-------------|---------|
| `field_in` | Value in list | `status_in=active,pending` |
| `field_not_in` | Value not in list | `role_not_in=guest,banned` |

```bash
# Find users with specific statuses
GET /api/v1/users?status_in=active,pending,verified

# Exclude certain roles
GET /api/v1/users?role_not_in=guest,banned
```

## Advanced Filtering

### Nested Field Filtering

Filter by nested object properties using dot notation:

```bash
# Filter by nested address field
GET /api/v1/users?address.city=San Francisco

# Filter by nested metadata
GET /api/v1/products?metadata.category=electronics
```

### Date Range Filtering

Common pattern for date ranges:

```bash
# Orders from the last 30 days
GET /api/v1/orders?created_at_gte=2024-01-01T00:00:00Z&created_at_lt=2024-02-01T00:00:00Z

# Users updated this year
GET /api/v1/users?updated_at_gte=2024-01-01T00:00:00Z
```

### Null Value Filtering

| Operator | Description | Example |
|----------|-------------|---------|
| `field_null` | Field is null | `deleted_at_null=true` |
| `field_not_null` | Field is not null | `phone_not_null=true` |

```bash
# Find active users (not deleted)
GET /api/v1/users?deleted_at_null=true

# Find users with phone numbers
GET /api/v1/users?phone_not_null=true
```

## Combining with Other Parameters

Filters work seamlessly with pagination and sorting:

```bash
GET /api/v1/users?status=active&role=admin&limit=20&offset=0&sort=created_at&order=desc
```

## Response Format

Filtered responses maintain the same structure as unfiltered responses:

```json
{
  "data": [
    {
      "id": 1,
      "name": "John Doe",
      "status": "active",
      "role": "admin"
    }
  ],
  "pagination": {
    "limit": 20,
    "offset": 0,
    "total": 5,
    "has_more": false
  },
  "filters_applied": {
    "status": "active",
    "role": "admin"
  }
}
```

## Best Practices

### Performance Optimization

- **Use indexed fields** for filtering when possible
- **Combine specific filters** to reduce result sets early
- **Avoid complex string operations** on large datasets
- **Cache filtered results** when appropriate

### Query Construction

```javascript
// Helper function to build filter queries
function buildFilterQuery(baseUrl, filters) {
  const params = new URLSearchParams();

  Object.entries(filters).forEach(([key, value]) => {
    if (value !== null && value !== undefined && value !== '') {
      params.append(key, value);
    }
  });

  return `${baseUrl}?${params.toString()}`;
}

// Example usage
const filters = {
  status: 'active',
  role_in: 'admin,moderator',
  created_at_gte: '2024-01-01T00:00:00Z',
  limit: 50
};

const url = buildFilterQuery('/api/v1/users', filters);
// Result: /api/v1/users?status=active&role_in=admin,moderator&created_at_gte=2024-01-01T00%3A00%3A00Z&limit=50
```

## Error Handling

### Invalid Filter Parameters

```json
{
  "error": {
    "code": "validation_error",
    "message": "Invalid filter parameters",
    "details": {
      "age_gt": "Must be a valid number",
      "status_in": "Invalid status value: 'unknown'"
    }
  }
}
```

### Unsupported Filter Fields

```json
{
  "error": {
    "code": "invalid_filter",
    "message": "Filtering not supported on field: 'internal_notes'"
  }
}
```

<Warning>
Some fields may not support filtering for security or performance reasons. Check the specific endpoint documentation for supported filter fields.
</Warning>

<Tip>
Use the `filters_applied` field in responses to verify which filters were actually applied to your query.
</Tip>